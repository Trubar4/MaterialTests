{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/index.js","webpack:///./node_modules/bezier-easing/src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","BezierEasing","require","guid","s4","Math","floor","random","toString","substring","_pageStacks","Transition","this","_frame","frame","args","cb","end","transitionForward","back","startTime","window","performance","now","requestAnimationFrame","timing","delay","dur","_t","max","min","forward","NoneTransition","from","to","params","ports","parameters","PushTransition","curve","distance","shift","unit","direction","ease","apply","crossfade","undefined","zoom","setStyle","transform","opacity","dist","targets","x","y","target","update","push","displayName","group","type","enums","default","plug","units","PopupTransition","fadein","Transitions","Navigate","node","displayNodeName","category","initialize","_internal","transitionParams","pageParams","backResults","inputs","stack","identifierOf","set","transition","keys","navigate","valueChangedToTrue","scheduleNavigate","methods","_this","internal","hasScheduledNavigate","scheduleAfterInputsHaveUpdated","pageStack","_defaultPageStack","backCallback","action","results","hasOutput","flagOutputDirty","sendSignalOnOutput","console","log","setTransitionParam","param","setPageParam","getBackResult","registerInputIfNeeded","hasInput","startsWith","registerInput","length","registerOutputIfNeeded","registerOutput","setup","context","graphModel","_managePortsForNode","_updatePorts","concat","component","components","inputName","inputPorts","getNodesWithType","backNode","split","forEach","a","find","_p","editorConnection","sendDynamicPorts","id","_trackTargetComponent","on","_n","ev","isRunningLocally","NavigateBack","allowEditOnly","backActions","resultValues","backAction","setResultValue","backActionTriggered","currentValue","event","PageStack","topPageName","stackDepth","getReactComponent","props","style","width","height","position","backgroundColor","children","startPage","scheduleReset","reset","outputs","setPageOutputs","prop","hasScheduledReset","content","getChildren","removeChild","nodeScope","deleteNode","createNode","setInputValue","addChild","page","componentName","isTransitioning","top","newTop","start","pop","Noodl","defineModule","reactNodes","nodes","settings","_injectRootRender","rootComponent","getProjectSettings","navigationBackgroundColor","float32ArraySupported","Float32Array","A","aA1","aA2","B","C","calcBezier","aT","getSlope","LinearEasing","mX1","mY1","mX2","mY2","Error","sampleValues","Array","getTForX","aX","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","abs","binarySubdivide"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","const BezierEasing = require(\"bezier-easing\");\n\nfunction guid() {\n\tfunction s4() {\n\t\treturn Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n\t}\n\treturn s4() + s4() + s4() + s4() + s4() + s4();\n}\n\nconst _pageStacks = {};\n\n\nclass Transition {\n\tconstructor() {\n\t\tthis._frame = this.frame.bind(this);\n\t}\n\n\tstart(args) {\n\t\tthis.cb = args.end;\n\t\tthis.transitionForward = !args.back;\n\t\tthis.startTime = window.performance.now();\n\t\trequestAnimationFrame(this._frame)\n\t}\n\n\tframe() {\n\t\tvar t = (window.performance.now() - (this.startTime + this.timing.delay)) / this.timing.dur;\n\t\tvar _t = Math.max(0,Math.min(t,1));\n\n\t\tthis.transitionForward?this.forward(_t):this.back(_t);\n\n\t\tif(window.performance.now() <= this.startTime + this.timing.dur + this.timing.delay)\n\t\t\trequestAnimationFrame(this._frame)\n\t\telse\n\t\t\tthis.end();\n\t}\n\n\tend() {\n\t\tthis.cb&&this.cb();\n\t}\n}\n\n// ----------------------------------------------------------------------------------------------------\n// None Transition\n// ----------------------------------------------------------------------------------------------------\nclass NoneTransition extends Transition {\n\tconstructor(from,to,params) {\n\t\tsuper();\n\n\t\tthis.from = from;\n\t\tthis.to = to;\n\n\t\tthis.timing = {dur:0,delay:0}\n\t}\n\n\tupdate(t) {\n\t}\n\n\tforward(t) {\n\t}\n\n\tback(t) {\n\t}\n}\n\nNoneTransition.ports = function(parameters) {\n\treturn [];\n}\n\n// ----------------------------------------------------------------------------------------------------\n// Push Transition\n// ----------------------------------------------------------------------------------------------------\nclass PushTransition extends Transition {\n\tconstructor(from,to,params) {\n\t\tsuper();\n\n\t\tthis.from = from;\n\t\tthis.to = to;\n\n\t\tthis.timing = params.timing || {curve:[0.0, 0.0, 0.58, 1.0],dur:300,delay:0};\n\t\tthis.distance = params.shift || {value:25,unit:'%'};\n\t\tif(typeof this.distance === 'number') this.distance = {value:this.distance,unit:'%'};\n\t\tthis.direction = params.direction || 'Right';\n\n\t\tthis.timing.curve[0] = Math.min(1, Math.max(0, this.timing.curve[0]))\n\t\tthis.timing.curve[2] = Math.min(1, Math.max(0, this.timing.curve[2]))\t\t\n\t\tthis.ease = BezierEasing.apply(null,this.timing.curve);\n\n\t\tthis.crossfade = (params.crossfade===undefined)?true:params.crossfade;\n\n\t\tthis.zoom = params.zoom || {value:25,unit:'%'};\n\t\tif(typeof this.zoom === 'number') this.zoom = {value:this.zoom,unit:'%'};\n\t}\n\n\tupdate(t) {\n\t\tif(this.direction === 'In' || this.direction === 'Out') {\n\t\t\tvar zoom = this.zoom.value / 100;\n\n\t\t\tzoom = (this.direction === 'Out')?-zoom:zoom;\n\n\t\t\tthis.from.setStyle({\n\t\t\t\ttransform:'scale(' + (1 + (zoom*t)) + ')',\n\t\t\t\topacity:this.crossfade?(1-t):1\n\t\t\t})\n\n\t\t\tthis.to.setStyle({\n\t\t\t\ttransform:'scale(' + (1 - (zoom*(1-t))) + ')',\n\t\t\t\topacity:this.crossfade?t:1\n\t\t\t})\t\n\t\t}\n\t\telse {\n\t\t\tvar dist = this.distance.value;\n\t\t\tvar unit = this.distance.unit;\n\n\t\t\tconst targets = {\n\t\t\t\t'Up':{x:0,y:-1},\n\t\t\t\t'Down':{x:0,y:1},\n\t\t\t\t'Left':{x:-1,y:0},\n\t\t\t\t'Right':{x:1,y:0}\n\t\t\t}\n\t\t\tconst target = {\n\t\t\t\tx:targets[this.direction].x * dist,\n\t\t\t\ty:targets[this.direction].y * dist,\n\t\t\t}\n\n\t\t\tthis.from.setStyle({\n\t\t\t\ttransform:'translate(' + (target.x*t) + unit + ',' + (target.y*t) + unit + ')',\n\t\t\t\topacity:this.crossfade?(1-t):1\n\t\t\t})\n\n\t\t\tthis.to.setStyle({\n\t\t\t\ttransform:'translate(' + (target.x*(t-1)) + unit + ',' + (target.y*(t-1)) + unit + ')',\n\t\t\t\topacity:this.crossfade?t:1\n\t\t\t})\t\n\t\t}\n\t}\n\n\tforward(t) {\n\t\tvar _t = this.ease(t);\n\t\tthis.update(_t)\n\t}\n\n\tback(t) {\n\t\tvar _t = this.ease(t);\n\t\tthis.update(1-_t)\n\t}\n}\n\nPushTransition.ports = function(parameters) {\n\tvar ports = [];\n\n\tports.push({\n\t\tname: 'tr-direction',\n\t\tdisplayName: 'Direction',\n\t\tgroup: 'Transition',\n\t\ttype: { name: 'enum', enums: ['Right', 'Left', 'Up', 'Down','In','Out'] },\n\t\tdefault: 'Right',\n\t\tplug: 'input'\n\t})\n\n\tif(parameters['tr-direction'] === 'In' || parameters['tr-direction'] === 'Out') {\n\t\tports.push({\n\t\t\tname: 'tr-zoom',\n\t\t\tdisplayName: 'Zoom',\n\t\t\tgroup: 'Transition',\n\t\t\ttype: {name:'number',units:['%']},\n\t\t\tdefault:{value:25,unit:'%'},\n\t\t\tplug: 'input',\n\t\t})\t\n\t}\n\telse {\n\t\tports.push({\n\t\t\tname: 'tr-shift',\n\t\t\tdisplayName: 'Shift Distance',\n\t\t\tgroup: 'Transition',\n\t\t\ttype: {name:'number',units:['%','px']},\n\t\t\tdefault:{value:25,unit:'%'},\n\t\t\tplug: 'input',\n\t\t})\t\n\t}\t\n\t\t\n\tports.push({\n\t\tname: 'tr-crossfade',\n\t\tdisplayName: 'Crossfade',\n\t\tgroup: 'Transition',\n\t\ttype: 'boolean',\n\t\tdefault:true,\n\t\tplug: 'input',\n\t})\t\t\n\n\n\tports.push({\n\t\tname: 'tr-timing',\n\t\tdisplayName: 'Timing',\n\t\tgroup: 'Transition',\n\t\ttype: 'curve',\n\t\tplug: 'input',\n\t})\n\n\treturn ports;\n}\n\n// ----------------------------------------------------------------------------------------------------\n// Popup Transition\n// ----------------------------------------------------------------------------------------------------\nclass PopupTransition extends Transition {\n\tconstructor(from,to,params) {\n\t\tsuper();\n\n\t\tthis.from = from;\n\t\tthis.to = to;\n\n\t\tthis.timing = params.timing || {curve:[0.0, 0.0, 0.58, 1.0],dur:300,delay:0};\n\t\tthis.distance = params.shift || {value:25,unit:'%'};\n\t\tif(typeof this.distance === 'number') this.distance = {value:this.distance,unit:'%'};\n\t\tthis.direction = params.direction || 'Right';\n\n\t\tthis.timing.curve[0] = Math.min(1, Math.max(0, this.timing.curve[0]))\n\t\tthis.timing.curve[2] = Math.min(1, Math.max(0, this.timing.curve[2]))\t\t\n\t\tthis.ease = BezierEasing.apply(null,this.timing.curve);\n\n\t\tthis.fadein = (params.fadein===undefined)?false:params.fadein;\n\n\t\tthis.zoom = params.zoom || {value:25,unit:'%'};\n\t\tif(typeof this.zoom === 'number') this.zoom = {value:this.zoom,unit:'%'};\n\t}\n\n\tupdate(t) {\n\t\tif(this.direction === 'In' || this.direction === 'Out') {\n\t\t\tvar zoom = this.zoom.value / 100;\n\n\t\t\tzoom = (this.direction === 'Out')?-zoom:zoom;\n\n\t\t\tthis.to.setStyle({\n\t\t\t\ttransform:'scale(' + (1 - (zoom*(1-t))) + ')',\n\t\t\t\topacity:this.crossfade?t:1\n\t\t\t})\t\n\t\t}\n\t\telse {\n\t\t\tvar dist = this.distance.value;\n\t\t\tvar unit = this.distance.unit;\n\n\t\t\tconst targets = {\n\t\t\t\t'Up':{x:0,y:-1},\n\t\t\t\t'Down':{x:0,y:1},\n\t\t\t\t'Left':{x:-1,y:0},\n\t\t\t\t'Right':{x:1,y:0}\n\t\t\t}\n\t\t\tconst target = {\n\t\t\t\tx:targets[this.direction].x * dist,\n\t\t\t\ty:targets[this.direction].y * dist,\n\t\t\t}\n\n\t\t\tthis.to.setStyle({\n\t\t\t\ttransform:'translate(' + (target.x*(t-1)) + unit + ',' + (target.y*(t-1)) + unit + ')',\n\t\t\t\topacity:this.fadein?t:1\n\t\t\t})\t\n\t\t}\n\t}\n\n\tforward(t) {\n\t\tvar _t = this.ease(t);\n\t\tthis.update(_t)\n\t}\n\n\tback(t) {\n\t\tvar _t = this.ease(t);\n\t\tthis.update(1-_t)\n\t}\n}\n\nPopupTransition.ports = function(parameters) {\n\tvar ports = [];\n\n\tports.push({\n\t\tname: 'tr-direction',\n\t\tdisplayName: 'Direction',\n\t\tgroup: 'Transition',\n\t\ttype: { name: 'enum', enums: ['Right', 'Left', 'Up', 'Down','In','Out'] },\n\t\tdefault: 'Right',\n\t\tplug: 'input'\n\t})\n\n\tif(parameters['tr-direction'] === 'In' || parameters['tr-direction'] === 'Out') {\n\t\tports.push({\n\t\t\tname: 'tr-zoom',\n\t\t\tdisplayName: 'Zoom',\n\t\t\tgroup: 'Transition',\n\t\t\ttype: {name:'number',units:['%']},\n\t\t\tdefault:{value:25,unit:'%'},\n\t\t\tplug: 'input',\n\t\t})\t\n\t}\n\telse {\n\t\tports.push({\n\t\t\tname: 'tr-shift',\n\t\t\tdisplayName: 'Shift Distance',\n\t\t\tgroup: 'Transition',\n\t\t\ttype: {name:'number',units:['%','px']},\n\t\t\tdefault:{value:25,unit:'%'},\n\t\t\tplug: 'input',\n\t\t})\t\n\t}\t\n\t\n\tports.push({\n\t\tname: 'tr-fadein',\n\t\tdisplayName: 'Fade In',\n\t\tgroup: 'Transition',\n\t\ttype: 'boolean',\n\t\tdefault:false,\n\t\tplug: 'input',\n\t})\t\t\n\n\tports.push({\n\t\tname: 'tr-timing',\n\t\tdisplayName: 'Timing',\n\t\tgroup: 'Transition',\n\t\ttype: 'curve',\n\t\tplug: 'input',\n\t})\n\n\treturn ports;\n}\n\nconst Transitions = {\n\t'None':NoneTransition,\n\t'Push':PushTransition,\n\t'Popup':PopupTransition,\n}\n\nconst Navigate = {\n\tnode: {\n\t\tname: 'PageStackNavigate',\n\t\tdisplayNodeName: 'Navigate',\n\t\tcategory: 'Navigation',\n\t\tinitialize: function () {\n\t\t\tthis._internal.transitionParams = {};\n\t\t\tthis._internal.pageParams = {};\n\t\t\tthis._internal.backResults = {};\n\t\t},\n\t\tinputs: {\n\t\t\tstack: {\n\t\t\t\ttype: { name: 'string', identifierOf: 'PackStack' },\n\t\t\t\tdefault: 'Default',\n\t\t\t\tdisplayName: 'Stack',\n\t\t\t\tgroup: 'General',\n\t\t\t\tset: function (value) {\n\t\t\t\t\tthis._internal.stack = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\ttarget: {\n\t\t\t\ttype: 'component',\n\t\t\t\tdisplayName: 'Target',\n\t\t\t\tgroup: 'General',\n\t\t\t\tset: function (value) {\n\t\t\t\t\tthis._internal.target = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\ttransition: {\n\t\t\t\ttype: { name: 'enum', enums: Object.keys(Transitions) },\n\t\t\t\tdefault: 'Push',\n\t\t\t\tdisplayName: 'Transition',\n\t\t\t\tgroup: 'Transition',\n\t\t\t\tset: function (value) {\n\t\t\t\t\tthis._internal.transition = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigate: {\n\t\t\t\tdisplayName: 'Navigate',\n\t\t\t\tgroup: 'Actions',\n\t\t\t\tvalueChangedToTrue: function () {\n\t\t\t\t\tthis.scheduleNavigate();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tscheduleNavigate: function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tvar internal = this._internal;\n\t\t\t\tif (!internal.hasScheduledNavigate) {\n\t\t\t\t\tinternal.hasScheduledNavigate = true;\n\t\t\t\t\tthis.scheduleAfterInputsHaveUpdated(function () {\n\t\t\t\t\t\tinternal.hasScheduledNavigate = false;\n\t\t\t\t\t\t_this.navigate();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigate() {\n\t\t\t\tvar pageStack;\n\t\t\t\tif(!this._internal.stack || this._internal.stack === 'Default') pageStack = _defaultPageStack;\n\t\t\t\telse pageStack = _pageStacks[this._internal.stack];\n\t\t\t\t\n\t\t\t\tif (!pageStack) {\n\t\t\t\t\tconsole.log('No page stack found')\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tpageStack.navigate({\n\t\t\t\t\ttarget: this._internal.target,\n\t\t\t\t\ttransition: { ...{ type: this._internal.transition }, ...this._internal.transitionParams },\n\t\t\t\t\tparams:this._internal.pageParams,\n\t\t\t\t\tbackCallback:(action,results) => {\n\t\t\t\t\t\tthis._internal.backResults = results;\n\n\t\t\t\t\t\tfor(var key in results) {\n\t\t\t\t\t\t\tif(this.hasOutput('backResult-'+key))\n\t\t\t\t\t\t\t\tthis.flagOutputDirty('backResult-'+key)\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (action !== undefined)\n\t\t\t\t\t\t\tthis.sendSignalOnOutput(action);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t},\n\t\t\tsetTransitionParam: function (param, value,unit) {\n\t\t\t\tthis._internal.transitionParams[param] = (unit!==undefined)?{value:value,unit:unit}:value;\n\t\t\t},\n\t\t\tsetPageParam: function (param, value) {\n\t\t\t\tthis._internal.pageParams[param] = value;\n\t\t\t},\t\t\n\t\t\tgetBackResult: function (param, value) {\n\t\t\t\treturn this._internal.backResults[param];\n\t\t\t},\t\t\n\t\t\tregisterInputIfNeeded: function (name) {\n\t\t\t\tif (this.hasInput(name)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (name.startsWith('tr-')) return this.registerInput(name, {\n\t\t\t\t\tset: this.setTransitionParam.bind(this, name.substring('tr-'.length))\n\t\t\t\t})\n\t\t\t\telse if (name.startsWith('pm-')) return this.registerInput(name, {\n\t\t\t\t\tset: this.setPageParam.bind(this, name.substring('pm-'.length))\n\t\t\t\t})\n\t\t\t},\n\t\t\tregisterOutputIfNeeded:function(name) {\n\t\t\t\tif (this.hasOutput(name)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (name.startsWith('backResult-')) return this.registerOutput(name, {\n\t\t\t\t\tgetter: this.getBackResult.bind(this, name.substring('backResult-'.length))\n\t\t\t\t})\n\t\t\t\telse if (name.startsWith('backAction-')) return this.registerOutput(name, {\n\t\t\t\t\tgetter: function () { /** No needed for signals */ }\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\tsetup: function (context, graphModel) {\n\t\tif (!context.editorConnection || !context.editorConnection.isRunningLocally()) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _managePortsForNode(node) {\n\t\t\tfunction _updatePorts() {\n\t\t\t\tvar ports = [];\n\n\t\t\t\tvar transition = node.parameters['transition'] || 'Push';\n\t\t\t\tif(Transitions[transition])\n\t\t\t\t\tports = ports.concat(Transitions[transition].ports(node.parameters))\n\n\t\t\t\tif(node.parameters['target'] !== undefined) {\n\t\t\t\t\tconst component = graphModel.components[node.parameters['target']];\n\t\t\t\t\tif(component !== undefined) {\n\t\t\t\t\t\tfor (var inputName in component.inputPorts) {\n\t\t\t\t\t\t\tports.push({\n\t\t\t\t\t\t\t\tname: 'pm-' + inputName,\n\t\t\t\t\t\t\t\tdisplayName: inputName,\n\t\t\t\t\t\t\t\ttype: '*',\n\t\t\t\t\t\t\t\tplug: 'input',\n\t\t\t\t\t\t\t\tgroup: 'Parameters'\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor(const backNode of component.getNodesWithType('PageStackNavigateBack')) {\n\t\t\t\t\t\t\tif(backNode.parameters['backActions'] !== undefined) {\n\t\t\t\t\t\t\t\tbackNode.parameters['backActions'].split(',').forEach((a) => {\n                                    if (ports.find((_p) => _p.name === 'backAction-' + a)) return;\n\n                                    ports.push({\n                                        name: 'backAction-' + a,\n                                        displayName: a,\n                                        type: 'signal',\n                                        plug: 'output',\n                                        group: 'Back Actions'\n                                    })\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (backNode.parameters['results']) {\n                                backNode.parameters['results'].split(',').forEach((p) => {\n\t\t\t\t\t\t\t\t\tif (ports.find((_p) => _p.name === 'backResult-' + p)) return;\n\n                                    ports.push({\n                                        name: 'backResult-' + p,\n                                        displayName: p,\n                                        type: '*',\n                                        plug: 'output',\n                                        group: 'Back Results'\n                                    })\n                                })\n                            }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tcontext.editorConnection.sendDynamicPorts(node.id, ports);\n\t\t\t}\n\n\t\t\tfunction _trackTargetComponent(name) {\n                if(name === undefined) return;\n                var c = graphModel.components[name];\n                if(c === undefined) return;\n\n                c.on('inputPortAdded', _updatePorts);\n                c.on('inputPortRemoved', _updatePorts);\n\n                // Also track all back navigate for changes\n                for (const _n of c.getNodesWithType(\"PageStackNavigateBack\")) {\n                    _n.on('parameterUpdated',_updatePorts);\n                }\n\n                // Track back navigate added and removed\n                c.on('nodeAdded', (_n) => { \n                    if(_n.type==='PageStackNavigateBack') {\n                        _n.on('parameterUpdated',_updatePorts);\n                        _updatePorts() \n                    }\n                })\n                \n                c.on('nodeWasRemoved', (_n) => { \n                    if(_n.type==='PageStackNavigateBack') _updatePorts() \n                })\n            }\n\n\t\t\t_updatePorts();\n\t\t\t_trackTargetComponent(node.parameters['target']);\n\t\t\tnode.on('parameterUpdated', function (ev) {\n\t\t\t\tif (ev.name === 'target') {\n\t\t\t\t\t_trackTargetComponent(node.parameters['target']);\n\t\t\t\t\t_updatePorts();\n\t\t\t\t}\n\t\t\t\telse if(ev.name === 'transition' || ev.name.startsWith('tr-')) _updatePorts();\n\t\t\t})\t\n\t\t}\n\n\t\tgraphModel.on(\"editorImportComplete\", ()=> {\n\t\t\tgraphModel.on(\"nodeAdded.PageStackNavigate\", function (node) {\n\t\t\t\t_managePortsForNode(node)\n\t\t\t})\n\n\t\t\tfor(const node of graphModel.getNodesWithType('PageStackNavigate')) {\n\t\t\t\t_managePortsForNode(node)\n\t\t\t}\n\t\t})\n\t}\n}\n\nfunction _createSignal(args) {\n\n    var currentValue = false;\n\n    return function (value) {\n        value = value ? true : false;\n        //value changed from false to true\n        if (value && currentValue === false) {\n            args.valueChangedToTrue.call(this);\n        }\n        currentValue = value;\n    };\n}\n\nconst NavigateBack = {\n\tnode: {\n\t\tname: 'PageStackNavigateBack',\n\t\tdisplayNodeName: 'Navigate Back',\n\t\tcategory: 'Navigation',\n\t\tinputs: {\n\t\t\tstack: {\n\t\t\t\ttype: { name: 'string', identifierOf: 'PackStack' },\n\t\t\t\tdefault: 'Default',\n\t\t\t\tdisplayName: 'Stack',\n\t\t\t\tgroup: 'General',\n\t\t\t\tset: function (value) {\n\t\t\t\t\tthis._internal.stack = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigate: {\n\t\t\t\tdisplayName: 'Navigate',\n\t\t\t\tgroup: 'Actions',\n\t\t\t\tvalueChangedToTrue: function () {\n\t\t\t\t\tthis.scheduleNavigate();\n\t\t\t\t}\n\t\t\t},\n\t\t\tresults: { \n\t\t\t\ttype: { name: 'stringlist', allowEditOnly: true }, \n\t\t\t\tgroup: 'Results',\n\t\t\t\tset: function (value) {\n\t\t\t\t\tthis._internal.results = value;\n\t\t\t\t}\n\t\t\t},\n\t\t\tbackActions: { \n\t\t\t\ttype: { name: 'stringlist', allowEditOnly: true }, \n\t\t\t\tgroup: 'Back Actions',\n\t\t\t\tset: function (value) {\n\t\t\t\t\tthis._internal.backActions = value;\n\t\t\t\t}\n\t\t\t},\t\t\t\n\t\t},\n\t\tinitialize:function() {\n\t\t\tthis._internal.resultValues = {}\n\t\t},\n\t\tmethods:{\n\t\t\tscheduleNavigate: function () {\n\t\t\t\tvar _this = this;\n\t\t\t\tvar internal = this._internal;\n\t\t\t\tif (!internal.hasScheduledNavigate) {\n\t\t\t\t\tinternal.hasScheduledNavigate = true;\n\t\t\t\t\tthis.scheduleAfterInputsHaveUpdated(function () {\n\t\t\t\t\t\tinternal.hasScheduledNavigate = false;\n\t\t\t\t\t\t_this.navigate();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tnavigate() {\n\t\t\t\tvar pageStack;\n\t\t\t\tif(!this._internal.stack || this._internal.stack === 'Default') pageStack = _defaultPageStack;\n\t\t\t\telse pageStack = _pageStacks[this._internal.stack];\n\t\t\t\t\n\t\t\t\tif (!pageStack) {\n\t\t\t\t\tconsole.log('No page stack found')\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tpageStack.back({\n\t\t\t\t\tbackAction:this._internal.backAction,\n\t\t\t\t\tresults:this._internal.resultValues\n\t\t\t\t})\n\t\t\t},\n\t\t\tsetResultValue: function (key, value) {\n\t\t\t\tthis._internal.resultValues[key] = value;\n\t\t\t},\n\t\t\tbackActionTriggered: function (name) {\n\t\t\t\tthis._internal.backAction = name;\n\t\t\t\tthis.scheduleNavigate();\n\t\t\t},\n\t\t\tregisterInputIfNeeded: function (name) {\n\t\t\t\tif (this.hasInput(name)) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\n\t\t\t\tif (name.startsWith('result-')) return this.registerInput(name, {\n\t\t\t\t\tset: this.setResultValue.bind(this, name.substring('result-'.length))\n\t\t\t\t})\n\t\n\t\t\t\tif (name.startsWith('backAction-')) return this.registerInput(name, {\n\t\t\t\t\tset: _createSignal({\n\t\t\t\t\t\tvalueChangedToTrue: this.backActionTriggered.bind(this, name)\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t},\n\tsetup: function (context, graphModel) {\n\t\tif (!context.editorConnection || !context.editorConnection.isRunningLocally()) {\n\t\t\treturn;\n\t\t}\n\n\t\tfunction _managePortsForNode(node) {\n            function _updatePorts() {\n                var ports = []\n\n                // Add results inputs\n                var results = node.parameters.results;\n                if (results) {\n                    results = results ? results.split(',') : undefined;\n                    for (var i in results) {\n                        var p = results[i];\n\n                        ports.push({\n                            type: {\n                                name: '*',\n                            },\n                            plug: 'input',\n                            group: 'Results',\n                            name: 'result-' + p,\n                            displayName: p\n                        });\n\n                    }\n                }\n\n                // Add back actions\n                var backActions = node.parameters.backActions;\n                if (backActions) {\n                    backActions = backActions ? backActions.split(',') : undefined;\n                    for (var i in backActions) {\n                        var p = backActions[i];\n\n                        ports.push({\n                            type: 'signal',\n                            plug: 'input',\n                            group: 'Back Actions',\n                            name: 'backAction-' + p,\n                            displayName: p\n                        })\n\n                    }\n                }\n\n                context.editorConnection.sendDynamicPorts(node.id, ports);\n            }\n\n            _updatePorts();\n            node.on(\"parameterUpdated\", function (event) {\n                if (event.name === 'results' || event.name === 'backActions') {\n                    _updatePorts();\n                }\n            });\n\t\t}\n\t\t\n\t\tgraphModel.on(\"editorImportComplete\", ()=> {\n\t\t\tgraphModel.on(\"nodeAdded.PageStackNavigateBack\", function (node) {\n\t\t\t\t_managePortsForNode(node)\n\t\t\t})\n\n\t\t\tfor(const node of graphModel.getNodesWithType('PageStackNavigateBack')) {\n\t\t\t\t_managePortsForNode(node)\n\t\t\t}\n\t\t})\n\t}\n}\n\n\nconst PageStack = {\n\tname: 'Page Stack',\n\tdisplayNodeName:'Navigation Stack',\n\tcategory: 'Visuals',\n\tinitialize:function() {\n\t\tthis._internal.stack = [];\n\n\t\tthis._internal.topPageName = '';\n\t\tthis._internal.stackDepth = 0;\n\t},\n\tgetReactComponent: function () {\n\t\tvar _this = this;\n\n\t\treturn function (props) {\n\t\t\tconst style = {\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%',\n\t\t\t\tposition: 'relative',\n\t\t\t\tbackgroundColor: _this._internal.backgroundColor\n\t\t\t}\n\n\t\t\treturn <div style={style}>{props.children}</div>\n\t\t}\n\t},\n\tinputs: {\n\t\tname: {\n\t\t\ttype: { name: 'string', identifierOf: 'PackStack' },\n\t\t\tdisplayName: 'Name',\n\t\t\tgroup: 'General',\n\t\t\tset: function (value) {\n\t\t\t\tthis._internal.name = value;\n\t\t\t\t_pageStacks[this._internal.name] = this;\n\t\t\t}\n\t\t},\n\t\tstartPage: {\n\t\t\ttype: 'component',\n\t\t\tdisplayName: 'Start Page',\n\t\t\tgroup: 'General',\n\t\t\tset: function (value) {\n\t\t\t\tthis._internal.startPage = value;\n\t\t\t\tthis.scheduleReset();\n\t\t\t}\n\t\t},\n\t\tbackgroundColor: {\n\t\t\ttype: 'color',\n\t\t\tdisplayName: 'Background Color',\n\t\t\tgroup: 'Style',\n\t\t\tset: function (value) {\n\t\t\t\tthis._internal.backgroundColor = value;\n\t\t\t}\n\t\t},\n\t\treset: {\n\t\t\ttype:'signal',\n\t\t\tdisplayName:'Reset',\n\t\t\tgroup:'Actions',\n\t\t\tvalueChangedToTrue:function() {\n\t\t\t\tthis.scheduleReset();\n\t\t\t}\n\t\t},\n\t},\n\toutputs: {\n\t\ttopPageName: {\n\t\t\ttype: 'string',\n\t\t\tdisplayName: 'Top Page Name',\n\t\t\tget() {\n\t\t\t\treturn this._internal.topPageName;\n\t\t\t}\n\t\t},\n\t\tstackDepth: {\n\t\t\ttype: 'number',\n\t\t\tdisplayName: 'Stack Depth',\n\t\t\tget() {\n\t\t\t\treturn this._internal.stackDepth;\n\t\t\t}\n\t\t}\n\t},\n\tmethods: {\n\t\tsetPageOutputs(outputs) {\n\t\t\tfor(const prop in outputs) {\n\t\t\t\tthis._internal[prop] = outputs[prop];\n\t\t\t\tthis.flagOutputDirty(prop);\n\t\t\t}\n\t\t},\n\t\tscheduleReset: function () {\n\t\t\tvar _this = this;\n\t\t\tvar internal = this._internal;\n\t\t\tif (!internal.hasScheduledReset) {\n\t\t\t\tinternal.hasScheduledReset = true;\n\t\t\t\tthis.scheduleAfterInputsHaveUpdated(function () {\n\t\t\t\t\tinternal.hasScheduledReset = false;\n\t\t\t\t\t_this.reset();\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\treset(content) {\n\t\t\tvar children = this.getChildren();\n\t\t\tfor (var i in children) {\n\t\t\t\tvar c = children[i];\n\t\t\t\tthis.removeChild(c);\n\t\t\t\tthis.nodeScope.deleteNode(c);\n\t\t\t}\n\n\t\t\tconst group = this.nodeScope.createNode('Group', guid());\n\t\t\tgroup.setInputValue('flexDirection', 'none') \n\t\t\t\n\t\t\tif(!content)\n\t\t\t\tcontent = this.nodeScope.createNode(this._internal.startPage, guid());\n\n\t\t\tgroup.addChild(content);\n\n\t\t\tthis.addChild(group);\n\t\t\tthis._internal.stack = [\n\t\t\t\t{\n\t\t\t\t\tfrom:null,\n\t\t\t\t\tpage:group,\n\t\t\t\t\tcomponentName: this._internal.startPage\n\t\t\t\t}\n\t\t\t];\n\n\t\t\tthis.setPageOutputs({\n\t\t\t\ttopPageName: this._internal.startPage,\n\t\t\t\tstackDepth: this._internal.stack.length\n\t\t\t});\n\t\t},\n\t\tnavigate(args) {\n\t\t\tif(this._internal.isTransitioning) return;\n\n\t\t\t// Create the container group\n\t\t\tconst group = this.nodeScope.createNode('Group', guid());\n\t\t\tgroup.setInputValue('flexDirection', 'none')\n\t\t\tgroup.setInputValue('position', 'absolute')  \n\t\t\t\n\t\t\t// Create the page content\n\t\t\tconst content = this.nodeScope.createNode(args.target, guid());\n\t\t\tfor(var key in args.params) {\n\t\t\t\tcontent.setInputValue(key,args.params[key]);\n\t\t\t}\n\t\t\tgroup.addChild(content);\n\n\t\t\t// Push the new top\n\t\t\tvar top = this._internal.stack[this._internal.stack.length-1];\n\t\t\tvar newTop = {\n\t\t\t\tfrom:top.page,\n\t\t\t\tpage:group,\n\t\t\t\ttransition:new Transitions[args.transition.type||'Push'](top.page,group,args.transition),\n\t\t\t\tbackCallback:args.backCallback,\n\t\t\t\tcomponentName: args.target\n\t\t\t}\n\t\t\tthis._internal.stack.push(newTop);\n\t\t\tthis.setPageOutputs({\n\t\t\t\ttopPageName: args.target,\n\t\t\t\tstackDepth: this._internal.stack.length\n\t\t\t});\n\n\t\t\tnewTop.transition.forward(0);\n\n\t\t\tthis._internal.isTransitioning = true;\n\t\t\tnewTop.transition.start({end:() => {\n\t\t\t\tthis._internal.isTransitioning = false;\n\n\t\t\t\t// Transition has completed, remove the previous top from the stack\n\t\t\t\tthis.removeChild(top.page);\n\t\t\t}})\n\t\t\t\n\t\t\tthis.addChild(group);\n\t\t},\n\t\tback(args) {\n\t\t\tif(this._internal.stack.length <= 1) return;\n\t\t\tif(this._internal.isTransitioning) return;\n\n\t\t\tvar top = this._internal.stack[this._internal.stack.length-1];\n\n\t\t\t// Insert the destination in the stack again\n\t\t\tthis.addChild(top.from,0);\n\t\t\ttop.backCallback&&top.backCallback(args.backAction,args.results)\n\n\t\t\tthis.setPageOutputs({\n\t\t\t\ttopPageName: this._internal.stack[this._internal.stack.length-2].componentName,\n\t\t\t\tstackDepth: this._internal.stack.length-1\n\t\t\t});\n\n\t\t\tthis._internal.isTransitioning = true;\n\t\t\ttop.transition.start({end:() => {\n\t\t\t\tthis._internal.isTransitioning = false;\n\n\t\t\t\tthis.removeChild(top.page);\n\t\t\t\tthis.nodeScope.deleteNode(top.page);\n\t\t\t\tthis._internal.stack.pop();\n\t\t\t},back:true});\n\t\t}\n\t}\n}\n\nvar _defaultPageStack;\n\nNoodl.defineModule({\n\treactNodes: [\n\t\tPageStack\n\t],\n\tnodes: [\n\t\tNavigate,\n\t\tNavigateBack\n\t],\n\tsettings:[\n\t\t{\n\t\t\ttype:'color',\n\t\t\tname:'navigationBackgroundColor',\n\t\t\tdisplayName:'Background Color',\n\t\t\tgroup:'Navigation',\n\t\t\tplug:'input'\n\t\t}\n\t],\n\tsetup() {\n\t\t//this is called once on startup\n\n\t},\n\t_injectRootRender(rootComponent) {\n\t\tif(!_defaultPageStack) {\n\t\t\t_defaultPageStack = rootComponent.nodeScope.createNode('Page Stack');\n\t\t\t_defaultPageStack.setInputValue('backgroundColor',Noodl.getProjectSettings().navigationBackgroundColor)\n\t\t}\n\n\t\t_defaultPageStack.reset(rootComponent);\n\t\treturn _defaultPageStack;\n\t}\n});","/**\n * https://github.com/gre/bezier-easing\n * BezierEasing - use bezier curve for transition easing function\n * by Gatan Renaudeau 2014 - 2015  MIT License\n */\n\n// These values are established by empiricism with tests (tradeoff: performance VS precision)\nvar NEWTON_ITERATIONS = 4;\nvar NEWTON_MIN_SLOPE = 0.001;\nvar SUBDIVISION_PRECISION = 0.0000001;\nvar SUBDIVISION_MAX_ITERATIONS = 10;\n\nvar kSplineTableSize = 11;\nvar kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\nvar float32ArraySupported = typeof Float32Array === 'function';\n\nfunction A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\nfunction B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\nfunction C (aA1)      { return 3.0 * aA1; }\n\n// Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\nfunction calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT; }\n\n// Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\nfunction getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1); }\n\nfunction binarySubdivide (aX, aA, aB, mX1, mX2) {\n  var currentX, currentT, i = 0;\n  do {\n    currentT = aA + (aB - aA) / 2.0;\n    currentX = calcBezier(currentT, mX1, mX2) - aX;\n    if (currentX > 0.0) {\n      aB = currentT;\n    } else {\n      aA = currentT;\n    }\n  } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n  return currentT;\n}\n\nfunction newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n   var currentSlope = getSlope(aGuessT, mX1, mX2);\n   if (currentSlope === 0.0) {\n     return aGuessT;\n   }\n   var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n   aGuessT -= currentX / currentSlope;\n }\n return aGuessT;\n}\n\nfunction LinearEasing (x) {\n  return x;\n}\n\nmodule.exports = function bezier (mX1, mY1, mX2, mY2) {\n  if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) {\n    throw new Error('bezier x values must be in [0, 1] range');\n  }\n\n  if (mX1 === mY1 && mX2 === mY2) {\n    return LinearEasing;\n  }\n\n  // Precompute samples table\n  var sampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n  for (var i = 0; i < kSplineTableSize; ++i) {\n    sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n  }\n\n  function getTForX (aX) {\n    var intervalStart = 0.0;\n    var currentSample = 1;\n    var lastSample = kSplineTableSize - 1;\n\n    for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n      intervalStart += kSampleStepSize;\n    }\n    --currentSample;\n\n    // Interpolate to provide an initial guess for t\n    var dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n    var guessForT = intervalStart + dist * kSampleStepSize;\n\n    var initialSlope = getSlope(guessForT, mX1, mX2);\n    if (initialSlope >= NEWTON_MIN_SLOPE) {\n      return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n    } else if (initialSlope === 0.0) {\n      return guessForT;\n    } else {\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n    }\n  }\n\n  return function BezierEasing (x) {\n    // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n    if (x === 0) {\n      return 0;\n    }\n    if (x === 1) {\n      return 1;\n    }\n    return calcBezier(getTForX(x), mY1, mY2);\n  };\n};\n"],"sourceRoot":""}